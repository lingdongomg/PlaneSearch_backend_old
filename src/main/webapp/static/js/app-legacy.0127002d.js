(function(){"use strict";var e={481:function(e,t,r){r(6992),r(8674),r(9601),r(7727);var l=r(8935),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},n=[],s=r(3736),o={},i=(0,s.Z)(o,a,n,!1,null,null,null),u=i.exports,c=r(2809),f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("欢迎使用航班推荐系统")]),r("p",[e._v("1：人数最少为1，最多为8； 2：代理人最少为1人，最多为20人； 3：行程段数最多为8段，每段航班的出发日期在前一段之后")]),r("p"),r("el-form",{ref:"request",attrs:{model:e.request,"label-width":"60px",size:"mini"}},[r("el-row",[r("el-col",{attrs:{offset:5,span:3}},[r("el-form-item",{attrs:{prop:"personNum",label:"人数",rules:{type:"number",required:!0,message:"请输入人数(1~8)",min:1,max:8,trigger:"blur"}}},[r("el-input",{model:{value:e.request.personNum,callback:function(t){e.$set(e.request,"personNum",e._n(t))},expression:"request.personNum"}})],1)],1),r("el-col",{attrs:{offset:1,span:4}},[r("el-form-item",{attrs:{"label-width":"100px",prop:"totalCount",label:"返回结果数",rules:{type:"number",required:!0,message:"请输入返回结果数",min:1,trigger:"blur"}}},[r("el-input",{model:{value:e.request.totalCount,callback:function(t){e.$set(e.request,"totalCount",e._n(t))},expression:"request.totalCount"}})],1)],1),r("el-col",{attrs:{offset:1,span:5}},[r("el-form-item",{attrs:{"label-width":"90px",prop:"agencies",label:"代理人",rules:{required:!0,message:"请选择代理人信息",trigger:"blur"}}},[r("el-select",{attrs:{multiple:"",placeholder:"请选择代理人信息"},model:{value:e.request.agencies,callback:function(t){e.$set(e.request,"agencies",t)},expression:"request.agencies"}},e._l(e.agencyList,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),r("el-row",[r("el-col",{attrs:{offset:4,span:5}},e._l(e.request.searchOptionFlightInfos,(function(t,l){return r("el-form-item",{key:t.key,attrs:{"label-width":"90px",label:"出发地"+(l+1),prop:"searchOptionFlightInfos."+l+".departureCity",rules:{required:!0,message:"请输入出发城市",trigger:"blur"}}},[r("el-input",{model:{value:t.departureCity,callback:function(r){e.$set(t,"departureCity",r)},expression:"searchOptionFlightInfos.departureCity"}})],1)})),1),r("el-col",{attrs:{span:5}},e._l(e.request.searchOptionFlightInfos,(function(t,l){return r("el-form-item",{key:t.key,attrs:{"label-width":"90px",label:"目的地"+(l+1),prop:"searchOptionFlightInfos."+l+".arrivalCity",rules:{required:!0,message:"请输入到达城市",trigger:"blur"}}},[r("el-input",{model:{value:t.arrivalCity,callback:function(r){e.$set(t,"arrivalCity",r)},expression:"searchOptionFlightInfos.arrivalCity"}})],1)})),1),r("el-col",{attrs:{span:9}},e._l(e.request.searchOptionFlightInfos,(function(t,l){return r("el-form-item",{key:t.key,attrs:{"label-width":"100px",required:"",label:"出发日期"+(l+1),rules:{required:!0,message:"请输入出发日期",trigger:"blur"}}},[r("el-col",{attrs:{span:12}},[r("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",prop:"searchOptionFlightInfos."+l+".departureTime","picker-options":e.pickerOptionsStart},model:{value:t.departureTime,callback:function(r){e.$set(t,"departureTime",r)},expression:"searchOptionFlightInfos.departureTime"}})],1),r("el-col",{attrs:{offset:1,span:2}},[r("el-button",{on:{click:function(r){return r.preventDefault(),e.removeDomain(t)}}},[e._v("删除")])],1)],1)})),1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("request")}}},[e._v("提交")]),r("el-button",{on:{click:e.addsearchOptionFlightInfos}},[e._v("新增行程")])],1)],1),e.resultOn?r("div",[r("el-row",[r("el-col",{attrs:{offset:2}},[r("el-table",{staticStyle:{width:"85%"},attrs:{width:"150px",data:e.result}},[r("el-table-column",{attrs:{label:"行程结果"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.$index+1+10*(e.currentPage-1))+" ")]}}],null,!1,2632147902)}),e._l(e.result[0].flightDetailVos.length,(function(t){return r("el-table-column",{key:t.key,attrs:{label:"航段"+t+"（"+e.oldRequest.searchOptionFlightInfos[t-1].departureCity+"->"+e.oldRequest.searchOptionFlightInfos[t-1].arrivalCity+"）",align:"center"}},[r("el-table-column",{attrs:{prop:"flightDetailVos."+(t-1)+".carrierName",label:"承运人"}}),r("el-table-column",{attrs:{prop:"flightDetailVos."+(t-1)+".flightNo",label:"航班编号"}}),r("el-table-column",{attrs:{label:"起飞时间"},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v(" "+e._s(e._f("dataFormat")(r.row.flightDetailVos[t-1].departureTime))+" ")]}}],null,!0)}),r("el-table-column",{attrs:{label:"到达时间"},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v(" "+e._s(e._f("dataFormat")(r.row.flightDetailVos[t-1].arrivalTime))+" ")]}}],null,!0)}),r("el-table-column",{attrs:{prop:"flightDetailVos."+(t-1)+".seatInfo",label:"舱位信息"},scopedSlots:e._u([{key:"default",fn:function(r){return[e._v(" "+e._s(r.row.flightDetailVos[t-1].seatInfo.length)+"位旅客为"+e._s(r.row.flightDetailVos[t-1].seatInfo.charAt(0))+"舱 ")]}}],null,!0)})],1)})),r("el-table-column",{attrs:{prop:"agency",label:"代理人名称"}}),r("el-table-column",{attrs:{prop:"totalPrice",label:"总价格"}})],2)],1)],1),r("div",{staticClass:"block",staticStyle:{"margin-block":"20px"}},[r("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-left"},on:{click:function(t){return e.reducePage()}}},[e._v("上一页")]),e._v(" 页码："+e._s(this.currentPage)+" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addPage()}}},[e._v("下一页"),r("i",{staticClass:"el-icon-arrow-right el-icon--right"})])],1)],1):e._e()],1)},p=[],h=(r(8862),r(561),r(2222),{data:function(){var e=this;return{request:{personNum:"",agencies:"",totalCount:"",searchOptionFlightInfos:[{departureCity:"",arrivalCity:"",departureTime:""}]},oldRequest:{},row:{},resultOn:!1,currentPage:1,result:[{agency:"AAA001",totalPrice:4396,flightDetailVos:[{carrierName:"MH",flightNo:"0100",departureTime:"202305121221",arrivalTime:"202305121221",seatInfo:"YYYY"}]}],resultDemo:[{agency:"",totalPrice:null,flightDetailVos:[{carrierName:"",flightNo:"",departureTime:null,arrivalTime:null,seatInfo:""}]}],timeNew:Date.now(),pickerOptionsStart:{disabledDate:function(t){return t.getTime()<e.timeNew-864e5}},agencyList:[{value:"AAA001",label:"AAA001"},{value:"BBB001",label:"BBB001"},{value:"CCC001",label:"CCC001"},{value:"DDD001",label:"DDD001"},{value:"EEE001",label:"EEE001"},{value:"FFF001",label:"FFF001"},{value:"GGG001",label:"GGG001"},{value:"HHH001",label:"HHH001"},{value:"III001",label:"III001"},{value:"JJJ001",label:"JJJ001"},{value:"KKK001",label:"KKK001"},{value:"LLL001",label:"LLL001"},{value:"MMM001",label:"MMM001"},{value:"NNN001",label:"NNN001"},{value:"OOO001",label:"OOO001"},{value:"PPP001",label:"PPP001"},{value:"QQQ001",label:"QQQ001"},{value:"RRR001",label:"RRR001"},{value:"SSS001",label:"SSS001"},{value:"TTT001",label:"TTT001"},{value:"UUU001",label:"UUU001"},{value:"VVV001",label:"VVV001"},{value:"WWW001",label:"WWW001"},{value:"XXX001",label:"XXX001"},{value:"YYY001",label:"YYY001"},{value:"ZZZ001",label:"ZZZ001"}]}},methods:{addPage:function(){var e=this;this.$axios.post("http://localhost:80/searchTickets",{personNum:this.request.personNum,agencies:this.request.agencies,searchOptionFlightInfos:this.request.searchOptionFlightInfos,pageNum:this.currentPage+1}).then((function(t){e.currentPage+=1,t.data.pageNum===e.currentPage-1?(e.$alert("当前页已是最后一页","提示",{confirmButtonText:"确定"}),e.currentPage-=1):(e.result=t.data.data,e.resultOn=!0,e.oldRequest=JSON.parse(JSON.stringify(e.request)),console.log(t),console.log(e.result))}))},reducePage:function(){var e=this;this.currentPage-=1,0===this.currentPage?(this.$alert("当前页已是第一页","提示",{confirmButtonText:"确定"}),this.currentPage=1):this.$axios.post("http://localhost:80/searchTickets",{personNum:this.request.personNum,agencies:this.request.agencies,searchOptionFlightInfos:this.request.searchOptionFlightInfos,pageNum:this.currentPage}).then((function(t){0===t.data.data.length?(e.$alert("查询的结果为空,没有合适的航班","提示",{confirmButtonText:"确定"}),e.result=e.resultDemo,e.resultOn=!1,console.log(t),console.log(e.result)):(e.result=t.data.data,e.resultOn=!0,e.oldRequest=JSON.parse(JSON.stringify(e.request)),console.log(t),console.log(e.result))}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return t.$message("提交失败"),!1;var r=0;""!==t.request.searchOptionFlightInfos[0].departureTime&&null!=t.request.searchOptionFlightInfos[0].departureTime||(r=1);for(var l=0;l<t.request.searchOptionFlightInfos.length-1;l++)""!==t.request.searchOptionFlightInfos[l+1].departureTime&&null!=t.request.searchOptionFlightInfos[l+1].departureTime||(r=1),t.request.searchOptionFlightInfos[l].departureTime>t.request.searchOptionFlightInfos[l+1].departureTime&&(r=1);1===r?t.$alert("输入的时间不符合规定，请重新输入","提示",{confirmButtonText:"确定"}):(t.$message("提交成功"),console.log(t.$data),t.$axios.post("http://localhost:80/searchTickets",{personNum:t.request.personNum,agencies:t.request.agencies,searchOptionFlightInfos:t.request.searchOptionFlightInfos,pageNum:1}).then((function(e){t.currentPage=1,0===e.data.data.length?(t.$alert("查询的结果为空,没有合适的航班","提示",{confirmButtonText:"确定"}),t.result=t.resultDemo,t.resultOn=!1,console.log(e),console.log(t.result)):(t.result=e.data.data,t.resultOn=!0,t.oldRequest=JSON.parse(JSON.stringify(t.request)),console.log(e),console.log(t.result))})).catch((function(e){console.log(e)})))}))},removeDomain:function(e){var t=this.request.searchOptionFlightInfos.indexOf(e);1!==this.request.searchOptionFlightInfos.length?this.request.searchOptionFlightInfos.splice(t,1):this.$message("最少一条行程")},addsearchOptionFlightInfos:function(){8===this.request.searchOptionFlightInfos.length?this.$message("最多只能添加八段行程"):this.request.searchOptionFlightInfos.push({value:"",key:Date.now()})}},filters:{dataFormat:function(e){return"".concat(e.substr(0,4),"年").concat(e.substr(4,2),"月").concat(e.substr(6,2),"日").concat(e.substr(8,2),"时").concat(e.substr(10,2),"分")}}}),g=h,d=(0,s.Z)(g,f,p,!1,null,null,null),m=d.exports;l["default"].use(c.Z);var b=new c.Z({mode:"hash",routes:[{path:"/",name:"FlightSearch",component:m}]}),v=r(4665);l["default"].use(v.ZP);var O=new v.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}}),y=r(4549),q=r.n(y),F=r(6166),I=r.n(F);l["default"].use(v.ZP),l["default"].prototype.$axios=I(),l["default"].use(q()),I().defaults.baseURL="/api",l["default"].config.productionTip=!1,new l["default"]({router:b,store:O,render:function(e){return e(u)}}).$mount("#app")}},t={};function r(l){var a=t[l];if(void 0!==a)return a.exports;var n=t[l]={exports:{}};return e[l](n,n.exports,r),n.exports}r.m=e,function(){var e=[];r.O=function(t,l,a,n){if(!l){var s=1/0;for(c=0;c<e.length;c++){l=e[c][0],a=e[c][1],n=e[c][2];for(var o=!0,i=0;i<l.length;i++)(!1&n||s>=n)&&Object.keys(r.O).every((function(e){return r.O[e](l[i])}))?l.splice(i--,1):(o=!1,n<s&&(s=n));if(o){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[l,a,n]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var l in t)r.o(t,l)&&!r.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,l){var a,n,s=l[0],o=l[1],i=l[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(a in o)r.o(o,a)&&(r.m[a]=o[a]);if(i)var c=i(r)}for(t&&t(l);u<s.length;u++)n=s[u],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(c)},l=self["webpackChunktest2"]=self["webpackChunktest2"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=r.O(void 0,[998],(function(){return r(481)}));l=r.O(l)})();
//# sourceMappingURL=app-legacy.0127002d.js.map